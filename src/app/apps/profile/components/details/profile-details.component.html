<div fxLayout="column" class="container" fxLayoutGap="24px">

    <div fxLayout="row" fxLayoutAlign="none end" fxLayoutGap="16px">
        <div class="profile-image-header">
            <img mat-list-avatar class="profile-image" src="{{ profilePicture.value }}">
        </div>
        <h3>{{name.value}} {{lastName.value}}</h3>
    </div>

    <h2>Edit Profile</h2>

    <div fxLayout="column">
        <form fxFlex [formGroup]="profileForm">
            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="24px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Name</mat-label>
                    <input matInput type="text" formControlName="name">
                </mat-form-field>

                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Last name</mat-label>
                    <input matInput type="text" formControlName="lastName">
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutGap="24px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Email</mat-label>
                    <input matInput type="text" formControlName="email">
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="24px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>City</mat-label>
                    <input matInput type="text" formControlName="city">
                </mat-form-field>

                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>State</mat-label>
                    <input matInput type="text" formControlName="state">
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="24px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Company</mat-label>
                    <input matInput type="text" formControlName="company">
                </mat-form-field>

                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Position</mat-label>
                    <input matInput type="text" formControlName="position">
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutGap="24px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Description</mat-label>
                    <textarea matInput type="text" formControlName="description" rows="3"></textarea>
                </mat-form-field>
            </div>
        </form>

        <div fxLayout="row" fxLayoutAlign="end center">
            <button mat-raised-button color="accent" (click)="saveChanges()"
                [disabled]="(profileForm.invalid || !profileForm.touched && !profileForm.dirty) || (updating)">
                <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="8px">
                    <span>Save</span>
                    <mat-spinner [diameter]="20" color="basic" [fxHide]="!updating"></mat-spinner>
                </div>
            </button>
        </div>
    </div>
</div>